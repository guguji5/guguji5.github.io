var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,a=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,o=(e,o)=>{for(var i in o||(o={}))t.call(o,i)&&a(e,i,o[i]);if(n)for(var i of n(o))r.call(o,i)&&a(e,i,o[i]);return e};import{at as i,au as l,r as s,ar as u,av as c,a1 as f,B as p,aw as d,n as h,f as y,S as g,ax as m,o as b,l as v,F as w,y as O,I as S,V as P,t as j,K as x,as as D,Z as E,_,$ as k,R as C,w as R,a6 as z,s as M,ay as N,a4 as L,b as T,a9 as H,az as A,aA as I,aB as W,k as B}from"./vendor.6a8dc018.js";import{b as F,c as G,u as q,d as U,e as X,f as Y,h as V,i as $,j as J,k as K,l as Z,m as Q,n as ee,o as te,p as ne,q as re,r as ae,P as oe,R as ie,D as le,s as se,t as ue,v as ce,w as fe,x as pe}from"./index.366ccd84.js";var de=i((function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,a="[object Arguments]",o="[object Array]",i="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",p="[object Number]",d="[object Object]",h="[object Promise]",y="[object RegExp]",g="[object Set]",m="[object String]",b="[object Symbol]",v="[object WeakMap]",w="[object ArrayBuffer]",O="[object DataView]",S=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,j={};j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j[a]=j[o]=j[w]=j[i]=j[O]=j[s]=j[u]=j[c]=j[f]=j[p]=j[d]=j[y]=j[g]=j[m]=j[v]=!1;var x="object"==typeof l&&l&&l.Object===Object&&l,D="object"==typeof self&&self&&self.Object===Object&&self,E=x||D||Function("return this")(),_=t&&!t.nodeType&&t,k=_&&e&&!e.nodeType&&e,C=k&&k.exports===_,R=C&&x.process,z=function(){try{return R&&R.binding&&R.binding("util")}catch(e){}}(),M=z&&z.isTypedArray;function N(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function L(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function T(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var H,A,I,W=Array.prototype,B=Function.prototype,F=Object.prototype,G=E["__core-js_shared__"],q=B.toString,U=F.hasOwnProperty,X=(H=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",Y=F.toString,V=RegExp("^"+q.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=C?E.Buffer:void 0,J=E.Symbol,K=E.Uint8Array,Z=F.propertyIsEnumerable,Q=W.splice,ee=J?J.toStringTag:void 0,te=Object.getOwnPropertySymbols,ne=$?$.isBuffer:void 0,re=(A=Object.keys,I=Object,function(e){return A(I(e))}),ae=ze(E,"DataView"),oe=ze(E,"Map"),ie=ze(E,"Promise"),le=ze(E,"Set"),se=ze(E,"WeakMap"),ue=ze(Object,"create"),ce=Te(ae),fe=Te(oe),pe=Te(ie),de=Te(le),he=Te(se),ye=J?J.prototype:void 0,ge=ye?ye.valueOf:void 0;function me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ve;++t<n;)this.add(e[t])}function Oe(e){var t=this.__data__=new be(e);this.size=t.size}function Se(e,t){var n=Ie(e),r=!n&&Ae(e),a=!n&&!r&&We(e),o=!n&&!r&&!a&&Ue(e),i=n||r||a||o,l=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=l.length;for(var u in e)!t&&!U.call(e,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Le(u,s))||l.push(u);return l}function Pe(e,t){for(var n=e.length;n--;)if(He(e[n][0],t))return n;return-1}function je(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=U.call(e,ee),n=e[ee];try{e[ee]=void 0;var r=!0}catch(o){}var a=Y.call(e);r&&(t?e[ee]=n:delete e[ee]);return a}(e):function(e){return Y.call(e)}(e)}function xe(e){return qe(e)&&je(e)==a}function De(e,t,n,r,l){return e===t||(null==e||null==t||!qe(e)&&!qe(t)?e!=e&&t!=t:function(e,t,n,r,l,c){var h=Ie(e),v=Ie(t),S=h?o:Ne(e),P=v?o:Ne(t),j=(S=S==a?d:S)==d,x=(P=P==a?d:P)==d,D=S==P;if(D&&We(e)){if(!We(t))return!1;h=!0,j=!1}if(D&&!j)return c||(c=new Oe),h||Ue(e)?ke(e,t,n,r,l,c):function(e,t,n,r,a,o,l){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!o(new K(e),new K(t)));case i:case s:case p:return He(+e,+t);case u:return e.name==t.name&&e.message==t.message;case y:case m:return e==t+"";case f:var c=L;case g:var d=1&r;if(c||(c=T),e.size!=t.size&&!d)return!1;var h=l.get(e);if(h)return h==t;r|=2,l.set(e,t);var v=ke(c(e),c(t),r,a,o,l);return l.delete(e),v;case b:if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,S,n,r,l,c);if(!(1&n)){var E=j&&U.call(e,"__wrapped__"),_=x&&U.call(t,"__wrapped__");if(E||_){var k=E?e.value():e,C=_?t.value():t;return c||(c=new Oe),l(k,C,n,r,c)}}if(!D)return!1;return c||(c=new Oe),function(e,t,n,r,a,o){var i=1&n,l=Ce(e),s=l.length,u=Ce(t).length;if(s!=u&&!i)return!1;var c=s;for(;c--;){var f=l[c];if(!(i?f in t:U.call(t,f)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var d=!0;o.set(e,t),o.set(t,e);var h=i;for(;++c<s;){var y=e[f=l[c]],g=t[f];if(r)var m=i?r(g,y,f,t,e,o):r(y,g,f,e,t,o);if(!(void 0===m?y===g||a(y,g,n,r,o):m)){d=!1;break}h||(h="constructor"==f)}if(d&&!h){var b=e.constructor,v=t.constructor;b==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,n,r,l,c)}(e,t,n,r,De,l))}function Ee(e){return!(!Ge(e)||function(e){return!!X&&X in e}(e))&&(Be(e)?V:S).test(Te(e))}function _e(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||F,t!==r)return re(e);var t,n,r,a=[];for(var o in Object(e))U.call(e,o)&&"constructor"!=o&&a.push(o);return a}function ke(e,t,n,r,a,o){var i=1&n,l=e.length,s=t.length;if(l!=s&&!(i&&s>l))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,f=!0,p=2&n?new we:void 0;for(o.set(e,t),o.set(t,e);++c<l;){var d=e[c],h=t[c];if(r)var y=i?r(h,d,c,t,e,o):r(d,h,c,e,t,o);if(void 0!==y){if(y)continue;f=!1;break}if(p){if(!N(t,(function(e,t){if(i=t,!p.has(i)&&(d===e||a(d,e,n,r,o)))return p.push(t);var i}))){f=!1;break}}else if(d!==h&&!a(d,h,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function Ce(e){return function(e,t,n){var r=t(e);return Ie(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,Xe,Me)}function Re(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function ze(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ee(n)?n:void 0}me.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(ue){var r=t[e];return r===n?void 0:r}return U.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:U.call(t,e)},me.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ue&&void 0===t?n:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(e){var t=this.__data__,n=Pe(t,e);return!(n<0)&&(n==t.length-1?t.pop():Q.call(t,n,1),--this.size,!0)},be.prototype.get=function(e){var t=this.__data__,n=Pe(t,e);return n<0?void 0:t[n][1]},be.prototype.has=function(e){return Pe(this.__data__,e)>-1},be.prototype.set=function(e,t){var n=this.__data__,r=Pe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(oe||be),string:new me}},ve.prototype.delete=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t},ve.prototype.get=function(e){return Re(this,e).get(e)},ve.prototype.has=function(e){return Re(this,e).has(e)},ve.prototype.set=function(e,t){var n=Re(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},we.prototype.add=we.prototype.push=function(e){return this.__data__.set(e,n),this},we.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.clear=function(){this.__data__=new be,this.size=0},Oe.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Oe.prototype.get=function(e){return this.__data__.get(e)},Oe.prototype.has=function(e){return this.__data__.has(e)},Oe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof be){var r=n.__data__;if(!oe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ve(r)}return n.set(e,t),this.size=n.size,this};var Me=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}(te(e),(function(t){return Z.call(e,t)})))}:function(){return[]},Ne=je;function Le(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Te(e){if(null!=e){try{return q.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(ae&&Ne(new ae(new ArrayBuffer(1)))!=O||oe&&Ne(new oe)!=f||ie&&Ne(ie.resolve())!=h||le&&Ne(new le)!=g||se&&Ne(new se)!=v)&&(Ne=function(e){var t=je(e),n=t==d?e.constructor:void 0,r=n?Te(n):"";if(r)switch(r){case ce:return O;case fe:return f;case pe:return h;case de:return g;case he:return v}return t});var Ae=xe(function(){return arguments}())?xe:function(e){return qe(e)&&U.call(e,"callee")&&!Z.call(e,"callee")},Ie=Array.isArray;var We=ne||function(){return!1};function Be(e){if(!Ge(e))return!1;var t=je(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Fe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ge(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function qe(e){return null!=e&&"object"==typeof e}var Ue=M?function(e){return function(t){return e(t)}}(M):function(e){return qe(e)&&Fe(e.length)&&!!j[je(e)]};function Xe(e){return null!=(t=e)&&Fe(t.length)&&!Be(t)?Se(e):_e(e);var t}e.exports=function(e,t){return De(e,t)}})),he=function(e,t,n){return e===t||e.className===t.className&&n(e.style,t.style)&&e.width===t.width&&e.autoSize===t.autoSize&&e.cols===t.cols&&e.draggableCancel===t.draggableCancel&&e.draggableHandle===t.draggableHandle&&n(e.verticalCompact,t.verticalCompact)&&n(e.compactType,t.compactType)&&n(e.layout,t.layout)&&n(e.margin,t.margin)&&n(e.containerPadding,t.containerPadding)&&e.rowHeight===t.rowHeight&&e.maxRows===t.maxRows&&e.isBounded===t.isBounded&&e.isDraggable===t.isDraggable&&e.isResizable===t.isResizable&&e.preventCollision===t.preventCollision&&e.useCSSTransforms===t.useCSSTransforms&&e.transformScale===t.transformScale&&e.isDroppable===t.isDroppable&&n(e.resizeHandles,t.resizeHandles)&&n(e.resizeHandle,t.resizeHandle)&&e.onLayoutChange===t.onLayoutChange&&e.onDragStart===t.onDragStart&&e.onDrag===t.onDrag&&e.onDragStop===t.onDragStop&&e.onResizeStart===t.onResizeStart&&e.onResize===t.onResize&&e.onResizeStop===t.onResizeStop&&e.onDrop===t.onDrop&&n(e.droppingItem,t.droppingItem)&&n(e.innerRef,t.innerRef)},ye=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.bottom=u,t.cloneLayout=function(e){for(var t=Array(e.length),n=0,r=e.length;n<r;n++)t[n]=f(e[n]);return t},t.modifyLayout=c,t.withLayoutItem=function(e,t,n){var r=b(e,t);return r?(r=n(f(r)),[e=c(e,r),r]):[e,null]},t.cloneLayoutItem=f,t.childrenEqual=function(e,t){return(0,n.default)(r.default.Children.map(e,(function(e){return e.key})),r.default.Children.map(t,(function(e){return e.key})))},t.fastPositionEqual=function(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},t.collides=p,t.compact=d,t.compactItem=g,t.correctBounds=m,t.getLayoutItem=b,t.getFirstCollision=v,t.getAllCollisions=w,t.getStatics=O,t.moveElement=S,t.moveElementAwayFromCollision=P,t.perc=function(e){return 100*e+"%"},t.setTransform=function(e){var t=e.top,n=e.left,r=e.width,a=e.height,o="translate(".concat(n,"px,").concat(t,"px)");return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:"".concat(r,"px"),height:"".concat(a,"px"),position:"absolute"}},t.setTopLeft=function(e){var t=e.top,n=e.left,r=e.width,a=e.height;return{top:"".concat(t,"px"),left:"".concat(n,"px"),width:"".concat(r,"px"),height:"".concat(a,"px"),position:"absolute"}},t.sortLayoutItems=j,t.sortLayoutItemsByRowCol=x,t.sortLayoutItemsByColRow=D,t.synchronizeLayoutWithChildren=function(e,t,n,a){e=e||[];var o=[];return r.default.Children.forEach(t,(function(t,n){var r=b(e,String(t.key));if(r)o[n]=f(r);else{var a=t.props["data-grid"]||t.props._grid;o[n]=f(a?i(i({},a),{},{i:t.key}):{w:1,h:1,x:0,y:u(o),i:String(t.key)})}})),d(m(o,{cols:n}),a,n)},t.validateLayout=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Layout",n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(var r=0,a=e.length;r<a;r++){for(var o=e[r],i=0;i<n.length;i++)if("number"!=typeof o[n[i]])throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[i]+" must be a number!");if(o.i&&"string"!=typeof o.i)throw new Error("ReactGridLayout: "+t+"["+r+"].i must be a string!");if(void 0!==o.static&&"boolean"!=typeof o.static)throw new Error("ReactGridLayout: "+t+"["+r+"].static must be a boolean!")}},t.compactType=function(e){var t=e||{},n=t.verticalCompact,r=t.compactType;return!1===n?null:r},t.autoBindHandlers=function(e,t){t.forEach((function(t){return e[t]=e[t].bind(e)}))},t.noop=t.fastRGLPropsEqual=void 0;var n=a(de),r=a(s);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t,n=0,r=0,a=e.length;r<a;r++)(t=e[r].y+e[r].h)>n&&(n=t);return n}function c(e,t){for(var n=Array(e.length),r=0,a=e.length;r<a;r++)t.i===e[r].i?n[r]=t:n[r]=e[r];return n}function f(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:Boolean(e.moved),static:Boolean(e.static),isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function p(e,t){return e.i!==t.i&&(!(e.x+e.w<=t.x)&&(!(e.x>=t.x+t.w)&&(!(e.y+e.h<=t.y)&&!(e.y>=t.y+t.h))))}function d(e,t,n){for(var r=O(e),a=j(e,t),o=Array(e.length),i=0,l=a.length;i<l;i++){var s=f(a[i]);s.static||(s=g(r,s,t,n,a),r.push(s)),o[e.indexOf(a[i])]=s,s.moved=!1}return o}t.fastRGLPropsEqual=he;var h={x:"w",y:"h"};function y(e,t,n,r){var a=h[r];t[r]+=1;for(var o=e.map((function(e){return e.i})).indexOf(t.i)+1;o<e.length;o++){var i=e[o];if(!i.static){if(i.y>t.y+t.h)break;p(t,i)&&y(e,i,n+t[a],r)}}t[r]=n}function g(e,t,n,r,a){var o,i="horizontal"===n;if("vertical"===n)for(t.y=Math.min(u(e),t.y);t.y>0&&!v(e,t);)t.y--;else if(i)for(;t.x>0&&!v(e,t);)t.x--;for(;o=v(e,t);)i?y(a,t,o.x+o.w,"x"):y(a,t,o.y+o.h,"y"),i&&t.x+t.w>r&&(t.x=r-t.w,t.y++);return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function m(e,t){for(var n=O(e),r=0,a=e.length;r<a;r++){var o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),o.static)for(;v(n,o);)o.y++;else n.push(o)}return e}function b(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function v(e,t){for(var n=0,r=e.length;n<r;n++)if(p(e[n],t))return e[n]}function w(e,t){return e.filter((function(e){return p(e,t)}))}function O(e){return e.filter((function(e){return e.static}))}function S(e,t,n,r,a,o,i,l){if(t.static&&!0!==t.isDraggable)return e;if(t.y===r&&t.x===n)return e;"Moving element ".concat(t.i," to [").concat(String(n),",").concat(String(r),"] from [").concat(t.x,",").concat(t.y,"]");var s=t.x,u=t.y;"number"==typeof n&&(t.x=n),"number"==typeof r&&(t.y=r),t.moved=!0;var c=j(e,i);("vertical"===i&&"number"==typeof r?u>=r:"horizontal"===i&&"number"==typeof n&&s>=n)&&(c=c.reverse());var f=w(c,t);if(o&&f.length)return"Collision prevented on ".concat(t.i,", reverting."),t.x=s,t.y=u,t.moved=!1,e;for(var p=0,d=f.length;p<d;p++){var h=f[p];"Resolving collision between ".concat(t.i," at [").concat(t.x,",").concat(t.y,"] and ").concat(h.i," at [").concat(h.x,",").concat(h.y,"]"),h.moved||(e=h.static?P(e,h,t,a,i):P(e,t,h,a,i))}return e}function P(e,t,n,r,a,o){var i="horizontal"===a,l="horizontal"!==a,s=t.static;if(r){r=!1;var u={x:i?Math.max(t.x-n.w,0):n.x,y:l?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"};if(!v(e,u))return"Doing reverse collision on ".concat(n.i," up to [").concat(u.x,",").concat(u.y,"]."),S(e,n,i?u.x:void 0,l?u.y:void 0,r,s,a)}return S(e,n,i?n.x+1:void 0,l?n.y+1:void 0,r,s,a)}function j(e,t){return"horizontal"===t?D(e):x(e)}function x(e){return e.slice(0).sort((function(e,t){return e.y>t.y||e.y===t.y&&e.x>t.x?1:e.y===t.y&&e.x===t.x?0:-1}))}function D(e){return e.slice(0).sort((function(e,t){return e.x>t.x||e.x===t.x&&e.y>t.y?1:-1}))}t.noop=function(){}})),ge=Se,me=Pe,be=function(e,t,n,r,a,o){var i=e.margin,l=e.containerPadding,s=e.rowHeight,u=Se(e),c={};o&&o.resizing?(c.width=Math.round(o.resizing.width),c.height=Math.round(o.resizing.height)):(c.width=Pe(r,u,i[0]),c.height=Pe(a,s,i[1]));o&&o.dragging?(c.top=Math.round(o.dragging.top),c.left=Math.round(o.dragging.left)):(c.top=Math.round((s+i[1])*n+l[1]),c.left=Math.round((u+i[0])*t+l[0]));return c},ve=function(e,t,n,r,a){var o=e.margin,i=e.cols,l=e.rowHeight,s=e.maxRows,u=Se(e),c=Math.round((n-o[0])/(u+o[0])),f=Math.round((t-o[1])/(l+o[1]));return c=je(c,0,i-r),f=je(f,0,s-a),{x:c,y:f}},we=function(e,t,n,r,a){var o=e.margin,i=e.maxRows,l=e.cols,s=e.rowHeight,u=Se(e),c=Math.round((t+o[0])/(u+o[0])),f=Math.round((n+o[1])/(s+o[1]));return c=je(c,0,l-r),f=je(f,0,i-a),{w:c,h:f}},Oe=je;function Se(e){var t=e.margin,n=e.containerPadding,r=e.containerWidth,a=e.cols;return(r-t[0]*(a-1)-2*n[0])/a}function Pe(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function je(e,t,n){return Math.max(Math.min(e,n),t)}var xe=Object.defineProperty({calcGridColWidth:ge,calcGridItemWHPx:me,calcGridItemPosition:be,calcXY:ve,calcWH:we,clamp:Oe},"__esModule",{value:!0}),De=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},Ee=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},_e=function(e){return"number"==typeof e&&!isNaN(e)},ke=function(e){return parseInt(e,10)},Ce=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))};var Re=Object.defineProperty({findInArray:De,isFunction:Ee,isNum:_e,int:ke,dontSetMe:Ce},"__esModule",{value:!0});function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Me=rt,Ne=function(e,t,n){var r=e;do{if(rt(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},Le=function(e,t,n,r){if(!e)return;var a=et({capture:!0},r);e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},Te=function(e,t,n,r){if(!e)return;var a=et({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},He=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Re.int)(n.borderTopWidth),t+=(0,Re.int)(n.borderBottomWidth)},Ae=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Re.int)(n.borderLeftWidth),t+=(0,Re.int)(n.borderRightWidth)},Ie=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Re.int)(n.paddingTop),t-=(0,Re.int)(n.paddingBottom)},We=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Re.int)(n.paddingLeft),t-=(0,Re.int)(n.paddingRight)},Be=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-r.left)/n,o=(e.clientY+t.scrollTop-r.top)/n;return{x:a,y:o}},Fe=function(e,t){var n=at(e,t,"px");return tt({},(0,Ke.browserPrefixToKey)("transform",Ke.default),n)},Ge=function(e,t){return at(e,t,"")},qe=at,Ue=function(e,t){return e.targetTouches&&(0,Re.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,Re.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},Xe=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},Ye=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&ot(e.body,"react-draggable-transparent-selection")},Ve=function(e){if(!e)return;try{if(e.body&&it(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(n){}},$e=ot,Je=it,Ke=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==ze(e)&&"function"!=typeof e)return{default:e};var t=Ze();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=r,t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var n=["Moz","Webkit","O","ms"];function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var r=0;r<n.length;r++)if(a(e,n[r])in t)return n[r];return""}function a(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var o=r();t.default=o})));function Ze(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return Ze=function(){return e},e}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt="";function rt(e,t){return nt||(nt=(0,Re.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,Re.isFunction)(e[t])}))),!!(0,Re.isFunction)(e[nt])&&e[nt](t)}function at(e,t,n){var r=e.x,a=e.y,o="translate(".concat(r).concat(n,",").concat(a).concat(n,")");if(t){var i="".concat("string"==typeof t.x?t.x:t.x+n),l="".concat("string"==typeof t.y?t.y:t.y+n);o="translate(".concat(i,", ").concat(l,")")+o}return o}function ot(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function it(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var lt=Object.defineProperty({matchesSelector:Me,matchesSelectorAndParentsTo:Ne,addEvent:Le,removeEvent:Te,outerHeight:He,outerWidth:Ae,innerHeight:Ie,innerWidth:We,offsetXYFromParent:Be,createCSSTransform:Fe,createSVGTransform:Ge,getTranslation:qe,getTouch:Ue,getTouchIdentifier:Xe,addUserSelectStyles:Ye,removeUserSelectStyles:Ve,addClassName:$e,removeClassName:Je},"__esModule",{value:!0}),st=function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var a=yt(e);if("string"==typeof r){var o,i=a.ownerDocument,l=i.defaultView;if(!((o="parent"===r?a.parentNode:i.querySelector(r))instanceof l.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var s=l.getComputedStyle(a),u=l.getComputedStyle(o);r={left:-a.offsetLeft+(0,Re.int)(u.paddingLeft)+(0,Re.int)(s.marginLeft),top:-a.offsetTop+(0,Re.int)(u.paddingTop)+(0,Re.int)(s.marginTop),right:(0,lt.innerWidth)(o)-(0,lt.outerWidth)(a)-a.offsetLeft+(0,Re.int)(u.paddingRight)-(0,Re.int)(s.marginRight),bottom:(0,lt.innerHeight)(o)-(0,lt.outerHeight)(a)-a.offsetTop+(0,Re.int)(u.paddingBottom)-(0,Re.int)(s.marginBottom)}}(0,Re.isNum)(r.right)&&(t=Math.min(t,r.right));(0,Re.isNum)(r.bottom)&&(n=Math.min(n,r.bottom));(0,Re.isNum)(r.left)&&(t=Math.max(t,r.left));(0,Re.isNum)(r.top)&&(n=Math.max(n,r.top));return[t,n]},ut=function(e,t,n){var r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]},ct=function(e){return"both"===e.props.axis||"x"===e.props.axis},ft=function(e){return"both"===e.props.axis||"y"===e.props.axis},pt=function(e,t,n){var r="number"==typeof t?(0,lt.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var a=yt(n),o=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,lt.offsetXYFromParent)(r||e,o,n.props.scale)},dt=function(e,t,n){var r=e.state,a=!(0,Re.isNum)(r.lastX),o=yt(e);return a?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}},ht=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};function yt(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var gt=Object.defineProperty({getBoundPosition:st,snapToGrid:ut,canDragX:ct,canDragY:ft,getControlPosition:pt,createCoreData:dt,createDraggableData:ht},"__esModule",{value:!0}),mt=function(){};var bt=Object.defineProperty({default:mt},"__esModule",{value:!0}),vt=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(s),r=i(c),a=i(u),o=i(bt);function i(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var a=w(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S={start:"touchstart",move:"touchmove",stop:"touchend"},P={start:"mousedown",move:"mousemove",stop:"mouseup"},j=P,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,e);var t,r,i,l=m(s);function s(){var e;h(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(v(e=l.call.apply(l,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),O(v(e),"mounted",!1),O(v(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,lt.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,lt.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var a=(0,lt.getTouchIdentifier)(t);e.setState({touchIdentifier:a});var i=(0,gt.getControlPosition)(t,a,v(e));if(null!=i){var l=i.x,s=i.y,u=(0,gt.createCoreData)(v(e),l,s);(0,o.default)("DraggableCore: handleDragStart: %j",u),(0,o.default)("calling",e.props.onStart),!1!==e.props.onStart(t,u)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,lt.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:l,lastY:s}),(0,lt.addEvent)(r,j.move,e.handleDrag),(0,lt.addEvent)(r,j.stop,e.handleDragStop))}}})),O(v(e),"handleDrag",(function(t){var n=(0,gt.getControlPosition)(t,e.state.touchIdentifier,v(e));if(null!=n){var r=n.x,a=n.y;if(Array.isArray(e.props.grid)){var i=r-e.state.lastX,l=a-e.state.lastY,s=p((0,gt.snapToGrid)(e.props.grid,i,l),2);if(i=s[0],l=s[1],!i&&!l)return;r=e.state.lastX+i,a=e.state.lastY+l}var u=(0,gt.createCoreData)(v(e),r,a);if((0,o.default)("DraggableCore: handleDrag: %j",u),!1!==e.props.onDrag(t,u)&&!1!==e.mounted)e.setState({lastX:r,lastY:a});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(f){var c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(c)}}})),O(v(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,gt.getControlPosition)(t,e.state.touchIdentifier,v(e));if(null!=n){var r=n.x,a=n.y,i=(0,gt.createCoreData)(v(e),r,a);if(!1===e.props.onStop(t,i)||!1===e.mounted)return!1;var l=e.findDOMNode();l&&e.props.enableUserSelectHack&&(0,lt.removeUserSelectStyles)(l.ownerDocument),(0,o.default)("DraggableCore: handleDragStop: %j",i),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),l&&((0,o.default)("DraggableCore: Removing handlers"),(0,lt.removeEvent)(l.ownerDocument,j.move,e.handleDrag),(0,lt.removeEvent)(l.ownerDocument,j.stop,e.handleDragStop))}}})),O(v(e),"onMouseDown",(function(t){return j=P,e.handleDragStart(t)})),O(v(e),"onMouseUp",(function(t){return j=P,e.handleDragStop(t)})),O(v(e),"onTouchStart",(function(t){return j=S,e.handleDragStart(t)})),O(v(e),"onTouchEnd",(function(t){return j=S,e.handleDragStop(t)})),e}return t=s,(r=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,lt.addEvent)(e,S.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,lt.removeEvent)(t,P.move,this.handleDrag),(0,lt.removeEvent)(t,S.move,this.handleDrag),(0,lt.removeEvent)(t,P.stop,this.handleDragStop),(0,lt.removeEvent)(t,S.stop,this.handleDragStop),(0,lt.removeEvent)(e,S.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,lt.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:a.default.findDOMNode(this)}},{key:"render",value:function(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&y(t.prototype,r),i&&y(t,i),s}(n.Component);t.default=x,O(x,"displayName","DraggableCore"),O(x,"propTypes",{allowAnyClick:r.default.bool,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:r.default.arrayOf(r.default.number),handle:r.default.string,cancel:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number,className:Re.dontSetMe,style:Re.dontSetMe,transform:Re.dontSetMe}),O(x,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})})),wt=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return i.default}}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!=typeof e)return{default:e};var t=d();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(s),r=p(c),a=p(u),o=p(f),i=p(vt),l=p(bt);function p(e){return e&&e.__esModule?e:{default:e}}function d(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return d=function(){return e},e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){a=!0,o=s}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var a=E(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(r,e);var t=j(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),_(D(n=t.call(this,e)),"onDragStart",(function(e,t){if((0,l.default)("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,gt.createDraggableData)(D(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),_(D(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;(0,l.default)("Draggable: onDrag: %j",t);var r=(0,gt.createDraggableData)(D(n),t),a={x:r.x,y:r.y};if(n.props.bounds){var o=a.x,i=a.y;a.x+=n.state.slackX,a.y+=n.state.slackY;var s=m((0,gt.getBoundPosition)(D(n),a.x,a.y),2),u=s[0],c=s[1];a.x=u,a.y=c,a.slackX=n.state.slackX+(o-a.x),a.slackY=n.state.slackY+(i-a.y),r.x=a.x,r.y=a.y,r.deltaX=a.x-n.state.x,r.deltaY=a.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(a)})),_(D(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,gt.createDraggableData)(D(n),t)))return!1;(0,l.default)("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var a=n.props.position,o=a.x,i=a.y;r.x=o,r.y=i}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:w({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return S(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,l.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:w({},n)})}}]),S(r,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:a.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props;t.axis,t.bounds;var r=t.children,a=t.defaultPosition,l=t.defaultClassName,s=t.defaultClassNameDragging,u=t.defaultClassNameDragged,c=t.position,f=t.positionOffset;t.scale;var p=g(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"]),d={},h=null,m=!Boolean(c)||this.state.dragging,b=c||a,v={x:(0,gt.canDragX)(this)&&m?this.state.x:b.x,y:(0,gt.canDragY)(this)&&m?this.state.y:b.y};this.state.isElementSVG?h=(0,lt.createSVGTransform)(v,f):d=(0,lt.createCSSTransform)(v,f);var O=(0,o.default)(r.props.className||"",l,(_(e={},s,this.state.dragging),_(e,u,this.state.dragged),e));return n.createElement(i.default,y({},p,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(r),{className:O,style:w(w({},r.props.style),d),transform:h}))}}]),r}(n.Component);t.default=k,_(k,"displayName","Draggable"),_(k,"propTypes",w(w({},i.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:Re.dontSetMe,style:Re.dontSetMe,transform:Re.dontSetMe})),_(k,"defaultProps",w(w({},i.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))})),Ot=wt.default,St=wt.DraggableCore,Pt=Ot,jt=Ot,xt=St;Pt.default=jt,Pt.DraggableCore=xt;var Dt,Et=function(e,t){t.style&&e.props.style&&(t.style=Ct(Ct({},e.props.style),t.style));t.className&&e.props.className&&(t.className=e.props.className+" "+t.className);return _t.default.cloneElement(e,t)},_t=(Dt=s)&&Dt.__esModule?Dt:{default:Dt};function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zt=Object.defineProperty({cloneElement:Et},"__esModule",{value:!0}),Mt=i((function(e,t){t.__esModule=!0,t.resizableProps=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(c);var r={axis:n.default.oneOf(["both","x","y","none"]),className:n.default.string,children:n.default.element.isRequired,draggableOpts:n.default.shape({allowAnyClick:n.default.bool,cancel:n.default.string,children:n.default.node,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:n.default.node,grid:n.default.arrayOf(n.default.number),handle:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number}),height:n.default.number.isRequired,handle:n.default.oneOfType([n.default.node,n.default.func]),handleSize:n.default.arrayOf(n.default.number),lockAspectRatio:n.default.bool,maxConstraints:n.default.arrayOf(n.default.number),minConstraints:n.default.arrayOf(n.default.number),onResizeStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,resizeHandles:n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:n.default.number,width:n.default.number.isRequired};t.resizableProps=r})),Nt=i((function(e,t){t.__esModule=!0,t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(s),r=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){var t,a;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRefs={},t.lastHandleRect=null,t.slack=null,t}a=e,(t=i).prototype=Object.create(a.prototype),t.prototype.constructor=t,c(t,a);var s=i.prototype;return s.componentWillUnmount=function(){this.resetData()},s.resetData=function(){this.lastHandleRect=this.slack=null},s.runConstraints=function(e,t){var n=this.props,r=n.minConstraints,a=n.maxConstraints,o=n.lockAspectRatio;if(!r&&!a&&!o)return[e,t];if(o){var i=this.props.width/this.props.height,l=e-this.props.width,s=t-this.props.height;Math.abs(l)>Math.abs(s*i)?t=e/i:e=t*i}var u=e,c=t,f=this.slack||[0,0],p=f[0],d=f[1];return e+=p,t+=d,r&&(e=Math.max(r[0],e),t=Math.max(r[1],t)),a&&(e=Math.min(a[0],e),t=Math.min(a[1],t)),this.slack=[p+(u-e),d+(c-t)],[e,t]},s.resizeHandler=function(e,t){var n=this;return function(r,a){var o=a.node,i=a.deltaX,l=a.deltaY;"onResizeStart"===e&&n.resetData();var s=("both"===n.props.axis||"x"===n.props.axis)&&"n"!==t&&"s"!==t,u=("both"===n.props.axis||"y"===n.props.axis)&&"e"!==t&&"w"!==t;if(s||u){var c=t[0],f=t[t.length-1],p=o.getBoundingClientRect();if(null!=n.lastHandleRect){if("w"===f)i+=p.left-n.lastHandleRect.left;if("n"===c)l+=p.top-n.lastHandleRect.top}n.lastHandleRect=p,"w"===f&&(i=-i),"n"===c&&(l=-l);var d=n.props.width+(s?i/n.props.transformScale:0),h=n.props.height+(u?l/n.props.transformScale:0),y=n.runConstraints(d,h);d=y[0],h=y[1];var g=d!==n.props.width||h!==n.props.height,m="function"==typeof n.props[e]?n.props[e]:null;m&&!("onResize"===e&&!g)&&("function"==typeof r.persist&&r.persist(),m(r,{node:o,size:{width:d,height:h},handle:t})),"onResizeStop"===e&&n.resetData()}}},s.renderResizeHandle=function(e,t){var r=this.props.handle;if(!r)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+e,ref:t});if("function"==typeof r)return r(e,t);var a=l({ref:t},"string"===r.type?{}:{handleAxis:e});return n.cloneElement(r,a)},s.render=function(){var e=this,t=this.props,a=t.children,i=t.className,s=t.draggableOpts;t.width,t.height,t.handle,t.handleSize,t.lockAspectRatio,t.axis,t.minConstraints,t.maxConstraints,t.onResize,t.onResizeStop,t.onResizeStart;var u=t.resizeHandles;t.transformScale;var c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,r);return(0,zt.cloneElement)(a,l(l({},c),{},{className:(i?i+" ":"")+"react-resizable",children:[].concat(a.props.children,u.map((function(t){var r,a=null!=(r=e.handleRefs[t])?r:e.handleRefs[t]=n.createRef();return n.createElement(Pt.DraggableCore,o({},s,{nodeRef:a,key:"resizableHandle-"+t,onStop:e.resizeHandler("onResizeStop",t),onStart:e.resizeHandler("onResizeStart",t),onDrag:e.resizeHandler("onResize",t)}),e.renderResizeHandle(t,a))})))}))},i}(n.Component);t.default=f,f.propTypes=Mt.resizableProps,f.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1}})),Lt=i((function(e,t){t.__esModule=!0,t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(s),r=i(c),a=i(Nt),o=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function i(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){var t,r;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={width:t.props.width,height:t.props.height,propsWidth:t.props.width,propsHeight:t.props.height},t.onResize=function(e,n){var r=n.size;t.props.onResize?(e.persist&&e.persist(),t.setState(r,(function(){return t.props.onResize&&t.props.onResize(e,n)}))):t.setState(r)},t}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,h(t,r),i.getDerivedStateFromProps=function(e,t){return t.propsWidth!==e.width||t.propsHeight!==e.height?{width:e.width,height:e.height,propsWidth:e.width,propsHeight:e.height}:null},i.prototype.render=function(){var e=this.props,t=e.handle,r=e.handleSize;e.onResize;var i=e.onResizeStart,l=e.onResizeStop,s=e.draggableOpts,c=e.minConstraints,f=e.maxConstraints,d=e.lockAspectRatio,h=e.axis;e.width,e.height;var y=e.resizeHandles,g=e.style,m=e.transformScale,b=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,o);return n.createElement(a.default,{axis:h,draggableOpts:s,handle:t,handleSize:r,height:this.state.height,lockAspectRatio:d,maxConstraints:f,minConstraints:c,onResizeStart:i,onResize:this.onResize,onResizeStop:l,resizeHandles:y,transformScale:m,width:this.state.width},n.createElement("div",u({},b,{style:p(p({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},i}(n.Component);t.default=y,y.propTypes=p(p({},Mt.resizableProps),{},{children:r.default.element})})),Tt=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Ht=Nt.default,At=Lt.default;Tt.Resizable=Ht,Tt.ResizableBox=At;var It=i((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.resizeHandleType=t.resizeHandleAxesType=void 0;var n=a(c),r=a(s);function a(e){return e&&e.__esModule?e:{default:e}}var o=n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"]));t.resizeHandleAxesType=o;var i=n.default.oneOfType([n.default.node,n.default.func]);t.resizeHandleType=i;var l={className:n.default.string,style:n.default.object,width:n.default.number,autoSize:n.default.bool,cols:n.default.number,draggableCancel:n.default.string,draggableHandle:n.default.string,verticalCompact:function(e){e.verticalCompact,0},compactType:n.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;void 0!==t&&ye.validateLayout(t,"layout")},margin:n.default.arrayOf(n.default.number),containerPadding:n.default.arrayOf(n.default.number),rowHeight:n.default.number,maxRows:n.default.number,isBounded:n.default.bool,isDraggable:n.default.bool,isResizable:n.default.bool,preventCollision:n.default.bool,useCSSTransforms:n.default.bool,transformScale:n.default.number,isDroppable:n.default.bool,resizeHandles:o,resizeHandle:i,onLayoutChange:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onDragStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,onResizeStop:n.default.func,onDrop:n.default.func,droppingItem:n.default.shape({i:n.default.string.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired}),children:function(e,t){var n=e[t],a={};r.default.Children.forEach(n,(function(e){if(a[e.key])throw new Error('Duplicate child key "'+e.key+'" found! This will cause problems in ReactGridLayout.');a[e.key]=!0}))},innerRef:n.default.any};t.default=l})),Wt=i((function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(s),a=i(c),o=i(f);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,n,a,i=y(l);function l(){var e;p(this,l);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return v(m(e=i.call.apply(i,[this].concat(n))),"state",{resizing:null,dragging:null,className:""}),v(m(e),"elementRef",r.default.createRef()),v(m(e),"onDragStart",(function(t,n){var r=n.node,a=e.props,o=a.onDragStart,i=a.transformScale;if(o){var l={top:0,left:0},s=r.offsetParent;if(s){var u=s.getBoundingClientRect(),c=r.getBoundingClientRect(),f=c.left/i,p=u.left/i,d=c.top/i,h=u.top/i;l.left=f-p+s.scrollLeft,l.top=d-h+s.scrollTop,e.setState({dragging:l});var y=(0,xe.calcXY)(e.getPositionParams(),l.top,l.left,e.props.w,e.props.h),g=y.x,b=y.y;return o.call(m(e),e.props.i,g,b,{e:t,node:r,newPosition:l})}}})),v(m(e),"onDrag",(function(t,n){var r=n.node,a=n.deltaX,o=n.deltaY,i=e.props.onDrag;if(i){if(!e.state.dragging)throw new Error("onDrag called before onDragStart.");var l=e.state.dragging.top+o,s=e.state.dragging.left+a,u=e.props,c=u.isBounded,f=u.i,p=u.w,d=u.h,h=u.containerWidth,y=e.getPositionParams();if(c){var g=r.offsetParent;if(g){var b=e.props,v=b.margin,w=b.rowHeight,O=g.clientHeight-(0,xe.calcGridItemWHPx)(d,w,v[1]);l=(0,xe.clamp)(l,0,O);var S=(0,xe.calcGridColWidth)(y),P=h-(0,xe.calcGridItemWHPx)(p,S,v[0]);s=(0,xe.clamp)(s,0,P)}}var j={top:l,left:s};e.setState({dragging:j});var x=(0,xe.calcXY)(y,l,s,p,d),D=x.x,E=x.y;return i.call(m(e),f,D,E,{e:t,node:r,newPosition:j})}})),v(m(e),"onDragStop",(function(t,n){var r=n.node,a=e.props.onDragStop;if(a){if(!e.state.dragging)throw new Error("onDragEnd called before onDragStart.");var o=e.props,i=o.w,l=o.h,s=o.i,u=e.state.dragging,c=u.left,f=u.top,p={top:f,left:c};e.setState({dragging:null});var d=(0,xe.calcXY)(e.getPositionParams(),f,c,i,l),h=d.x,y=d.y;return a.call(m(e),s,h,y,{e:t,node:r,newPosition:p})}})),v(m(e),"onResizeStop",(function(t,n){e.onResizeHandler(t,n,"onResizeStop")})),v(m(e),"onResizeStart",(function(t,n){e.onResizeHandler(t,n,"onResizeStart")})),v(m(e),"onResize",(function(t,n){e.onResizeHandler(t,n,"onResize")})),e}return t=l,(n=[{key:"shouldComponentUpdate",value:function(e,t){if(this.props.children!==e.children)return!0;if(this.props.droppingPosition!==e.droppingPosition)return!0;var n=(0,xe.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),r=(0,xe.calcGridItemPosition)(this.getPositionParams(e),e.x,e.y,e.w,e.h,t);return!(0,ye.fastPositionEqual)(n,r)||this.props.useCSSTransforms!==e.useCSSTransforms}},{key:"componentDidMount",value:function(){this.moveDroppingItem({})}},{key:"componentDidUpdate",value:function(e){this.moveDroppingItem(e)}},{key:"moveDroppingItem",value:function(e){var t=this.props.droppingPosition;if(t){var n=this.elementRef.current;if(n){var r=e.droppingPosition||{left:0,top:0},a=this.state.dragging,o=a&&t.left!==r.left||t.top!==r.top;if(a){if(o){var i=t.left-a.left,l=t.top-a.top;this.onDrag(t.e,{node:n,deltaX:i,deltaY:l})}}else this.onDragStart(t.e,{node:n,deltaX:t.left,deltaY:t.top})}}}},{key:"getPositionParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{cols:e.cols,containerPadding:e.containerPadding,containerWidth:e.containerWidth,margin:e.margin,maxRows:e.maxRows,rowHeight:e.rowHeight}}},{key:"createStyle",value:function(e){var t,n=this.props,r=n.usePercentages,a=n.containerWidth;return n.useCSSTransforms?t=(0,ye.setTransform)(e):(t=(0,ye.setTopLeft)(e),r&&(t.left=(0,ye.perc)(e.left/a),t.width=(0,ye.perc)(e.width/a))),t}},{key:"mixinDraggable",value:function(e,t){return r.default.createElement(Pt.DraggableCore,{disabled:!t,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},e)}},{key:"mixinResizable",value:function(e,t,n){var a=this.props,o=a.cols,i=a.x,l=a.minW,s=a.minH,u=a.maxW,c=a.maxH,f=a.transformScale,p=a.resizeHandles,d=a.resizeHandle,h=this.getPositionParams(),y=(0,xe.calcGridItemPosition)(h,0,0,o-i,0).width,g=(0,xe.calcGridItemPosition)(h,0,0,l,s),m=(0,xe.calcGridItemPosition)(h,0,0,u,c),b=[g.width,g.height],v=[Math.min(m.width,y),Math.min(m.height,1/0)];return r.default.createElement(Tt.Resizable,{draggableOpts:{disabled:!n},className:n?void 0:"react-resizable-hide",width:t.width,height:t.height,minConstraints:b,maxConstraints:v,onResizeStop:this.onResizeStop,onResizeStart:this.onResizeStart,onResize:this.onResize,transformScale:f,resizeHandles:p,handle:d},e)}},{key:"onResizeHandler",value:function(e,t,n){var r=t.node,a=t.size,o=this.props[n];if(o){var i=this.props,l=i.cols,s=i.x,u=i.y,c=i.i,f=i.maxH,p=i.minH,d=this.props,h=d.minW,y=d.maxW,g=(0,xe.calcWH)(this.getPositionParams(),a.width,a.height,s,u),m=g.w,b=g.h;h=Math.max(h,1),y=Math.min(y,l-s),m=(0,xe.clamp)(m,h,y),b=(0,xe.clamp)(b,p,f),this.setState({resizing:"onResizeStop"===n?null:a}),o.call(this,c,m,b,{e:e,node:r,size:a})}}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,a=e.w,i=e.h,l=e.isDraggable,s=e.isResizable,c=e.droppingPosition,f=e.useCSSTransforms,p=(0,xe.calcGridItemPosition)(this.getPositionParams(),t,n,a,i,this.state),d=r.default.Children.only(this.props.children),h=r.default.cloneElement(d,{ref:this.elementRef,className:(0,o.default)("react-grid-item",d.props.className,this.props.className,{static:this.props.static,resizing:Boolean(this.state.resizing),"react-draggable":l,"react-draggable-dragging":Boolean(this.state.dragging),dropping:Boolean(c),cssTransforms:f}),style:u(u(u({},this.props.style),d.props.style),this.createStyle(p))});return h=this.mixinResizable(h,p,s),h=this.mixinDraggable(h,l)}}])&&d(t.prototype,n),a&&d(t,a),l}(r.default.Component);t.default=w,v(w,"propTypes",{children:a.default.element,cols:a.default.number.isRequired,containerWidth:a.default.number.isRequired,rowHeight:a.default.number.isRequired,margin:a.default.array.isRequired,maxRows:a.default.number.isRequired,containerPadding:a.default.array.isRequired,x:a.default.number.isRequired,y:a.default.number.isRequired,w:a.default.number.isRequired,h:a.default.number.isRequired,minW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minWidth not Number"):n>e.w||n>e.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxWidth not Number"):n<e.w||n<e.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("minHeight not Number"):n>e.h||n>e.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(e,t){var n=e[t];return"number"!=typeof n?new Error("maxHeight not Number"):n<e.h||n<e.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:a.default.string.isRequired,resizeHandles:It.resizeHandleAxesType,resizeHandle:It.resizeHandleType,onDragStop:a.default.func,onDragStart:a.default.func,onDrag:a.default.func,onResizeStop:a.default.func,onResizeStart:a.default.func,onResize:a.default.func,isDraggable:a.default.bool.isRequired,isResizable:a.default.bool.isRequired,isBounded:a.default.bool.isRequired,static:a.default.bool,useCSSTransforms:a.default.bool.isRequired,transformScale:a.default.number,className:a.default.string,handle:a.default.string,cancel:a.default.string,droppingPosition:a.default.shape({e:a.default.object.isRequired,left:a.default.number.isRequired,top:a.default.number.isRequired})}),v(w,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1})})),Bt=i((function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,r&&r.set(e,a);return a}(s),a=u(de),o=u(f),i=u(Wt),l=u(It);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(s){l=!0,a=s}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var a=P(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x="react-grid-layout",D=!1;try{D=/firefox/i.test(navigator.userAgent)}catch(_){}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(u,e);var t,n,l,s=w(u);function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),j(S(n=s.call(this,e,t)),"state",{activeDrag:null,layout:(0,ye.synchronizeLayoutWithChildren)(n.props.layout,n.props.children,n.props.cols,(0,ye.compactType)(n.props)),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,droppingDOMNode:null,children:[]}),j(S(n),"dragEnterCounter",0),j(S(n),"onDragOver",(function(e){var t;if(D&&(null===(t=e.nativeEvent.target)||void 0===t||!t.classList.contains(x)))return e.preventDefault(),!1;var a=n.props,o=a.droppingItem,i=a.margin,l=a.cols,s=a.rowHeight,u=a.maxRows,c=a.width,f=a.containerPadding,p=n.state.layout,d=e.nativeEvent,g=d.layerX,m=d.layerY,b={left:g,top:m,e:e};if(n.state.droppingDOMNode){if(n.state.droppingPosition){var v=n.state.droppingPosition,w=v.left,O=v.top;(w!=g||O!=m)&&n.setState({droppingPosition:b})}}else{var S={cols:l,margin:i,maxRows:u,rowHeight:s,containerWidth:c,containerPadding:f||i},P=(0,xe.calcXY)(S,m,g,o.w,o.h);n.setState({droppingDOMNode:r.createElement("div",{key:o.i}),droppingPosition:b,layout:[].concat(y(p),[h(h({},o),{},{x:P.x,y:P.y,static:!1,isDraggable:!0})])})}e.stopPropagation(),e.preventDefault()})),j(S(n),"removeDroppingPlaceholder",(function(){var e=n.props,t=e.droppingItem,r=e.cols,a=n.state.layout,o=(0,ye.compact)(a.filter((function(e){return e.i!==t.i})),(0,ye.compactType)(n.props),r);n.setState({layout:o,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})})),j(S(n),"onDragLeave",(function(){n.dragEnterCounter--,0===n.dragEnterCounter&&n.removeDroppingPlaceholder()})),j(S(n),"onDragEnter",(function(){n.dragEnterCounter++})),j(S(n),"onDrop",(function(e){var t=n.props.droppingItem,r=n.state.layout,a=r.find((function(e){return e.i===t.i}));n.dragEnterCounter=0,n.removeDroppingPlaceholder(),n.props.onDrop(r,a,e)})),(0,ye.autoBindHandlers)(S(n),["onDragStart","onDrag","onDragStop","onResizeStart","onResize","onResizeStop"]),n}return t=u,l=[{key:"getDerivedStateFromProps",value:function(e,t){var n;return t.activeDrag?null:((0,a.default)(e.layout,t.propsLayout)&&e.compactType===t.compactType?(0,ye.childrenEqual)(e.children,t.children)||(n=t.layout):n=e.layout,n?{layout:(0,ye.synchronizeLayoutWithChildren)(n,e.children,e.cols,(0,ye.compactType)(e)),compactType:e.compactType,children:e.children,propsLayout:e.layout}:null)}}],(n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.children!==e.children||!(0,ye.fastRGLPropsEqual)(this.props,e,a.default)||this.state.activeDrag!==t.activeDrag||this.state.mounted!==t.mounted||this.state.droppingPosition!==t.droppingPosition}},{key:"componentDidUpdate",value:function(e,t){if(!this.state.activeDrag){var n=this.state.layout,r=t.layout;this.onLayoutMaybeChanged(n,r)}}},{key:"containerHeight",value:function(){if(this.props.autoSize){var e=(0,ye.bottom)(this.state.layout),t=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return e*this.props.rowHeight+(e-1)*this.props.margin[1]+2*t+"px"}}},{key:"onDragStart",value:function(e,t,n,r){var a=r.e,o=r.node,i=this.state.layout,l=(0,ye.getLayoutItem)(i,e);if(l)return this.setState({oldDragItem:(0,ye.cloneLayoutItem)(l),oldLayout:this.state.layout}),this.props.onDragStart(i,l,l,null,a,o)}},{key:"onDrag",value:function(e,t,n,r){var a=r.e,o=r.node,i=this.state.oldDragItem,l=this.state.layout,s=this.props.cols,u=(0,ye.getLayoutItem)(l,e);if(u){var c={w:u.w,h:u.h,x:u.x,y:u.y,placeholder:!0,i:e};l=(0,ye.moveElement)(l,u,t,n,!0,this.props.preventCollision,(0,ye.compactType)(this.props),s),this.props.onDrag(l,i,u,c,a,o),this.setState({layout:(0,ye.compact)(l,(0,ye.compactType)(this.props),s),activeDrag:c})}}},{key:"onDragStop",value:function(e,t,n,r){var a=r.e,o=r.node;if(this.state.activeDrag){var i=this.state.oldDragItem,l=this.state.layout,s=this.props,u=s.cols,c=s.preventCollision,f=(0,ye.getLayoutItem)(l,e);if(f){l=(0,ye.moveElement)(l,f,t,n,!0,c,(0,ye.compactType)(this.props),u),this.props.onDragStop(l,i,f,null,a,o);var p=(0,ye.compact)(l,(0,ye.compactType)(this.props),u),d=this.state.oldLayout;this.setState({activeDrag:null,layout:p,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,d)}}}},{key:"onLayoutMaybeChanged",value:function(e,t){t||(t=this.state.layout),(0,a.default)(t,e)||this.props.onLayoutChange(e)}},{key:"onResizeStart",value:function(e,t,n,r){var a=r.e,o=r.node,i=this.state.layout,l=(0,ye.getLayoutItem)(i,e);l&&(this.setState({oldResizeItem:(0,ye.cloneLayoutItem)(l),oldLayout:this.state.layout}),this.props.onResizeStart(i,l,l,null,a,o))}},{key:"onResize",value:function(e,t,n,r){var a=r.e,o=r.node,i=this.state,l=i.layout,s=i.oldResizeItem,u=this.props,c=u.cols,f=u.preventCollision,d=p((0,ye.withLayoutItem)(l,e,(function(e){var r;if(f){var a=(0,ye.getAllCollisions)(l,h(h({},e),{},{w:t,h:n})).filter((function(t){return t.i!==e.i}));if(r=a.length>0){var o=1/0,i=1/0;a.forEach((function(t){t.x>e.x&&(o=Math.min(o,t.x)),t.y>e.y&&(i=Math.min(i,t.y))})),Number.isFinite(o)&&(e.w=o-e.x),Number.isFinite(i)&&(e.h=i-e.y)}}return r||(e.w=t,e.h=n),e})),2),y=d[0],g=d[1];if(g){var m={w:g.w,h:g.h,x:g.x,y:g.y,static:!0,i:e};this.props.onResize(y,s,g,m,a,o),this.setState({layout:(0,ye.compact)(y,(0,ye.compactType)(this.props),c),activeDrag:m})}}},{key:"onResizeStop",value:function(e,t,n,r){var a=r.e,o=r.node,i=this.state,l=i.layout,s=i.oldResizeItem,u=this.props.cols,c=(0,ye.getLayoutItem)(l,e);this.props.onResizeStop(l,s,c,null,a,o);var f=(0,ye.compact)(l,(0,ye.compactType)(this.props),u),p=this.state.oldLayout;this.setState({activeDrag:null,layout:f,oldResizeItem:null,oldLayout:null}),this.onLayoutMaybeChanged(f,p)}},{key:"placeholder",value:function(){var e=this.state.activeDrag;if(!e)return null;var t=this.props,n=t.width,a=t.cols,o=t.margin,l=t.containerPadding,s=t.rowHeight,u=t.maxRows,c=t.useCSSTransforms,f=t.transformScale;return r.createElement(i.default,{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,className:"react-grid-placeholder",containerWidth:n,cols:a,margin:o,containerPadding:l||o,maxRows:u,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:c,transformScale:f},r.createElement("div",null))}},{key:"processGridItem",value:function(e,t){if(e&&e.key){var n=(0,ye.getLayoutItem)(this.state.layout,String(e.key));if(!n)return null;var a=this.props,o=a.width,l=a.cols,s=a.margin,u=a.containerPadding,c=a.rowHeight,f=a.maxRows,p=a.isDraggable,d=a.isResizable,h=a.isBounded,y=a.useCSSTransforms,g=a.transformScale,m=a.draggableCancel,b=a.draggableHandle,v=a.resizeHandles,w=a.resizeHandle,O=this.state,S=O.mounted,P=O.droppingPosition,j="boolean"==typeof n.isDraggable?n.isDraggable:!n.static&&p,x="boolean"==typeof n.isResizable?n.isResizable:!n.static&&d,D=n.resizeHandles||v,E=j&&h&&!1!==n.isBounded;return r.createElement(i.default,{containerWidth:o,cols:l,margin:s,containerPadding:u||s,maxRows:f,rowHeight:c,cancel:m,handle:b,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:j,isResizable:x,isBounded:E,useCSSTransforms:y&&S,usePercentages:!S,transformScale:g,w:n.w,h:n.h,x:n.x,y:n.y,i:n.i,minH:n.minH,minW:n.minW,maxH:n.maxH,maxW:n.maxW,static:n.static,droppingPosition:t?P:void 0,resizeHandles:D,resizeHandle:w},e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.style,i=t.isDroppable,l=t.innerRef,s=(0,o.default)(x,n),u=h({height:this.containerHeight()},a);return r.createElement("div",{ref:l,className:s,style:u,onDrop:i?this.onDrop:ye.noop,onDragLeave:i?this.onDragLeave:ye.noop,onDragEnter:i?this.onDragEnter:ye.noop,onDragOver:i?this.onDragOver:ye.noop},r.Children.map(this.props.children,(function(t){return e.processGridItem(t)})),i&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}])&&b(t.prototype,n),l&&b(t,l),u}(r.Component);t.default=E,j(E,"displayName","ReactGridLayout"),j(E,"propTypes",l.default),j(E,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:ye.noop,onDragStart:ye.noop,onDrag:ye.noop,onDragStop:ye.noop,onResizeStart:ye.noop,onResize:ye.noop,onResizeStop:ye.noop,onDrop:ye.noop})})),Ft=function(e,t){for(var n=Xt(e),r=n[0],a=1,o=n.length;a<o;a++){var i=n[a];t>e[i]&&(r=i)}return r},Gt=function(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]},qt=function(e,t,n,r,a,o){if(e[n])return(0,ye.cloneLayout)(e[n]);for(var i=e[r],l=Xt(t),s=l.slice(l.indexOf(n)),u=0,c=s.length;u<c;u++){var f=s[u];if(e[f]){i=e[f];break}}return i=(0,ye.cloneLayout)(i||[]),(0,ye.compact)((0,ye.correctBounds)(i,{cols:a}),o,a)},Ut=Xt;function Xt(e){return Object.keys(e).sort((function(t,n){return e[t]-e[n]}))}var Yt=Object.defineProperty({getBreakpointFromWidth:Ft,getColsFromBreakpoint:Gt,findOrGenerateResponsiveLayout:qt,sortBreakpoints:Ut},"__esModule",{value:!0}),Vt=i((function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,r&&r.set(e,a);return a}(s),a=l(c),o=l(de),i=l(Bt);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){return Object.prototype.toString.call(e)};function j(e,t){return null==e?null:Array.isArray(e)?e:e[t]}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,n,a,l=b(s);function s(){var e;y(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(w(e=l.call.apply(l,[this].concat(n))),"state",e.generateInitialState()),S(w(e),"onLayoutChange",(function(t){e.props.onLayoutChange(t,h(h({},e.props.layouts),{},S({},e.state.breakpoint,t)))})),e}return t=s,a=[{key:"getDerivedStateFromProps",value:function(e,t){if(!(0,o.default)(e.layouts,t.layouts)){var n=t.breakpoint,r=t.cols;return{layout:(0,Yt.findOrGenerateResponsiveLayout)(e.layouts,e.breakpoints,n,n,r,e.compactType),layouts:e.layouts}}return null}}],(n=[{key:"generateInitialState",value:function(){var e=this.props,t=e.width,n=e.breakpoints,r=e.layouts,a=e.cols,o=(0,Yt.getBreakpointFromWidth)(n,t),i=(0,Yt.getColsFromBreakpoint)(o,a),l=!1===this.props.verticalCompact?null:this.props.compactType;return{layout:(0,Yt.findOrGenerateResponsiveLayout)(r,n,o,o,i,l),breakpoint:o,cols:i}}},{key:"componentDidUpdate",value:function(e){this.props.width==e.width&&this.props.breakpoint===e.breakpoint&&(0,o.default)(this.props.breakpoints,e.breakpoints)&&(0,o.default)(this.props.cols,e.cols)||this.onWidthChange(e)}},{key:"onWidthChange",value:function(e){var t=this.props,n=t.breakpoints,r=t.cols,a=t.layouts,o=t.compactType,i=this.props.breakpoint||(0,Yt.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),l=this.state.breakpoint,s=(0,Yt.getColsFromBreakpoint)(i,r),u=h({},a);if(l!==i||e.breakpoints!==n||e.cols!==r){l in u||(u[l]=(0,ye.cloneLayout)(this.state.layout));var c=(0,Yt.findOrGenerateResponsiveLayout)(u,n,i,l,s,o);c=(0,ye.synchronizeLayoutWithChildren)(c,this.props.children,s,o),u[i]=c,this.props.onLayoutChange(c,u),this.props.onBreakpointChange(i,s),this.setState({breakpoint:i,layout:c,cols:s})}var f=j(this.props.margin,i),p=j(this.props.containerPadding,i);this.props.onWidthChange(this.props.width,f,s,p)}},{key:"render",value:function(){var e=this.props;e.breakpoint,e.breakpoints,e.cols,e.layouts;var t=e.margin,n=e.containerPadding;e.onBreakpointChange,e.onLayoutChange,e.onWidthChange;var a=p(e,["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"]);return r.createElement(i.default,f({},a,{margin:j(t,this.state.breakpoint),containerPadding:j(n,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}])&&g(t.prototype,n),a&&g(t,a),s}(r.Component);t.default=x,S(x,"propTypes",{breakpoint:a.default.string,breakpoints:a.default.object,cols:a.default.object,margin:a.default.oneOfType([a.default.array,a.default.object]),containerPadding:a.default.oneOfType([a.default.array,a.default.object]),layouts:function(e,t){if("[object Object]"!==P(e[t]))throw new Error("Layout property must be an object. Received: "+P(e[t]));Object.keys(e[t]).forEach((function(t){if(!(t in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,ye.validateLayout)(e.layouts[t],"layouts."+t)}))},width:a.default.number.isRequired,onBreakpointChange:a.default.func,onLayoutChange:a.default.func,onWidthChange:a.default.func}),S(x,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],onBreakpointChange:ye.noop,onLayoutChange:ye.noop,onWidthChange:ye.noop})}));function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Jt=function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&on(e,t)}(o,Kt.Component);var n,r,a=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=un(n);if(r){var a=un(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return ln(this,e)});function o(){var e;rn(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cn(sn(e=a.call.apply(a,[this].concat(n))),"state",{width:1280}),cn(sn(e),"elementRef",Kt.createRef()),cn(sn(e),"mounted",!1),cn(sn(e),"onWindowResize",(function(){if(e.mounted){var t=e.elementRef.current;t instanceof HTMLElement&&t.offsetWidth&&e.setState({width:t.offsetWidth})}})),e}return function(e,t,n){t&&an(e.prototype,t);n&&an(e,n)}(o,[{key:"componentDidMount",value:function(){this.mounted=!0,window.addEventListener("resize",this.onWindowResize),this.onWindowResize()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,window.removeEventListener("resize",this.onWindowResize)}},{key:"render",value:function(){var t=this.props,n=t.measureBeforeMount,r=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["measureBeforeMount"]);return n&&!this.mounted?Kt.createElement("div",{className:(0,Qt.default)(this.props.className,"react-grid-layout"),style:this.props.style,ref:this.elementRef}):Kt.createElement(e,nn({innerRef:this.elementRef},r,this.state))}}]),o}(),cn(t,"defaultProps",{measureBeforeMount:!1}),cn(t,"propTypes",{measureBeforeMount:Zt.default.bool}),n},Kt=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==$t(e)&&"function"!=typeof e)return{default:e};var n=tn(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(s),Zt=en(c),Qt=en(f);function en(e){return e&&e.__esModule?e:{default:e}}function tn(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(tn=function(e){return e?n:t})(e)}function nn(){return(nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ln(e,t){return!t||"object"!==$t(t)&&"function"!=typeof t?sn(e):t}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function un(e){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fn=Object.defineProperty({default:Jt},"__esModule",{value:!0}),pn=i((function(e){e.exports=Bt.default,e.exports.utils=ye,e.exports.Responsive=Vt.default,e.exports.Responsive.utils=Yt,e.exports.WidthProvider=fn.default}));const dn=pn.WidthProvider(pn.Responsive),{Panel:hn}=m,{confirm:yn}=v,gn={lg:[{x:0,y:0,w:6,h:6,i:"0"},{x:6,y:0,w:6,h:6,i:"1"},{x:12,y:0,w:6,h:6,i:"2"}],sm:[{x:0,y:0,w:6,h:6,i:"0"},{x:6,y:0,w:6,h:6,i:"1"},{x:12,y:0,w:6,h:6,i:"2"}],md:[{x:0,y:0,w:6,h:6,i:"0"},{x:6,y:0,w:6,h:6,i:"1"},{x:12,y:0,w:6,h:6,i:"2"}],xs:[{x:0,y:0,w:6,h:6,i:"0"},{x:6,y:0,w:6,h:6,i:"1"},{x:12,y:0,w:6,h:6,i:"2"}]};function mn(e){const{groupInfo:t,range:n,variableConfig:r,onAddChart:a,onUpdateChart:i,onDelChartGroup:l,onDelChart:u,onUpdateChartGroup:c,onMoveUpChartGroup:f,onMoveDownChartGroup:v}=e,[w,O]=s.useState([]),[S,P]=s.useState(gn),[j,x]=s.useState(!1);s.useEffect((()=>{D()}),[t.updateTime]);const D=()=>{x(!1),F(t.id).then((e=>{const t=(e.dat?e.dat.map((e=>{let t=e.configs?JSON.parse(e.configs):{};return{id:e.id,configs:t,weight:e.weight}})):[]).filter((e=>e.configs.metric||e.configs.prome_ql)),n=t.map(((e,n)=>e.configs.layout?(e.configs.layout.i=""+n,e.configs.layout):E(t.slice(0,n).map((e=>e.configs.layout)),Number(n))));P({lg:n,sm:n,md:n,xs:n}),O(t),x(!0)}))},E=function(e,t){const n=new Array;e.forEach((e=>{if(e){const{w:t,h:r,x:a,y:o}=e;for(let e=0;e<r;e++){void 0===n[e+o]&&(n[e+o]=new Array(24).fill(0));for(let r=0;r<t;r++)n[e+o][r+a]=1}}}));let r=-1,a=-1;for(let i=0;i<n.length;i++)void 0===n[i]&&(n[i]=new Array(24).fill(0));function o(e,t){let r=!0;for(let a=e;a<e+6;a++)for(let e=t;e<t+2;e++)n[a]&&n[a][e]&&(r=!1);return r}for(let i=0;i<n.length-1;i++)for(let e=0;e<=18;e++)if(o(i,e)){a=i,r=e;break}return-1===r&&(r=0,a=n.length),{w:6,h:2,x:r,y:a,i:""+t}},_=async e=>{let t=w.map(((t,n)=>{const{h:r,w:a,x:o,y:i,i:l}=e[n];return t.configs.layout={h:r,w:a,x:o,y:i,i:l},t}));q(t)};function k(e){e.domEvent.stopPropagation(),((e,n=24/e,r=2)=>{let a=0,i=0;const l=[];[...S.lg].forEach(((t,s)=>{let u=o({},t);if(s+1>e){let t=(s+1)/e;i=Math.trunc(t)*r}u.w=n,u.h=r,u.x=a,u.y=i,a+=u.w,(s+1)%e==0&&(a=0),l.push(u)}));let s=w.map(((e,t)=>{const{h:n,w:r,x:a,y:o,i:i}=l[t];return e.configs.layout={h:n,w:r,x:a,y:o,i:i},e}));q(s),P({lg:[...l],sm:[...l],md:[...l],xs:[...l]}),O(s),t.updateTime=Date.now()})(Number(e.key))}function C(){let e=[];for(let t=1;t<=4;t++){let n=s.createElement(y.Item,{key:t},t,"列");e.push(n)}return s.createElement(y,{onClick:k},e)}const R=s.useCallback((()=>s.createElement("div",{style:{width:"100%"}},w&&w.length>0?s.createElement(dn,{cols:{lg:24,sm:24,md:24,xs:24},layouts:S,onLayoutChange:_,measureBeforeMount:!1,useCSSTransforms:!1,preventCollision:!1,isBounded:!0,draggableHandle:".chart-title"},w&&w.length>0&&w.map(((e,a)=>{const{metric:l,tags:c={}}=e.configs;let f,m,{prome_ql:b}=e.configs,v=Object.keys(c).filter((e=>c[e])).reduce(((e,t)=>e.concat(c[t].map((e=>({key:t,value:e}))))),[]);return r&&(r.tags.forEach((e=>{if(b)Array.isArray(b)&&(b=b.map((t=>"*"===e.value?t.replaceAll("$"+e.key,".+"):t.replaceAll("$"+e.key,e.value))));else if(!v.find((t=>t.key===e.key))&&"*"!==e.value){const{key:t,value:n}=e;v.push({key:t,value:n})}})),f=r.classpath_id,m=r.classpath_prefix),s.createElement("div",{style:{border:"1px solid #e0dee2"},key:String(a)},s.createElement(G,{barControl:"multiOrSort",title:w[a].configs.name,rightBar:s.createElement(s.Fragment,null,s.createElement(p,{type:"link",size:"small",onClick:t=>{t.preventDefault(),window.open(e.configs.link)},disabled:!e.configs.link},s.createElement(d,null)),s.createElement(h,{trigger:["click"],overlay:s.createElement(y,null,s.createElement(y.Item,{onClick:()=>i(t,e)},"编辑图表"),s.createElement(y.Item,{danger:!0,onClick:()=>{yn({title:`是否删除图表${e.configs.name}?`,onOk:async()=>{u(t,e)},onCancel(){}})}},"删除图表"))},s.createElement(p,{type:"link",size:"small",onClick:e=>e.preventDefault()},s.createElement(g,null)))),options:o(o({classpath_id:f,classpath_prefix:void 0===m?void 0:!!m},e.configs),{prome_ql:b,range:n,tags:v,metric:l,limit:50})}))}))):s.createElement("p",{className:"empty-group-holder"},"Now it is empty"))),[j,t.updateTime,n,r]);return s.createElement(m,{defaultActiveKey:["0"]},s.createElement(hn,{header:s.createElement("span",{className:"panel-title"},t.name),key:"0",extra:s.createElement(s.Fragment,null,s.createElement(p,{type:"link",size:"small",onClick:e=>{e.stopPropagation(),a(t.id)}},"新增图表"),s.createElement(h,{overlay:C()},s.createElement(p,{type:"link",size:"small",onClick:e=>{e.stopPropagation()}},"一键规整 ",s.createElement(b,null))),s.createElement(p,{type:"link",size:"small",onClick:e=>{e.stopPropagation(),c(t)}},"修改"),s.createElement(p,{type:"link",size:"small",onClick:e=>{e.stopPropagation(),f(t)}},"上移"),s.createElement(p,{type:"link",size:"small",onClick:e=>{e.stopPropagation(),v(t)}},"下移"),s.createElement(p,{type:"link",size:"small",onClick:e=>{e.stopPropagation(),yn({title:`是否删除分类${t.name}?`,onOk:async()=>{l(t.id)},onCancel(){}})}},"删除"))},R()))}const{Option:bn}=j;function vn(e){const{groupId:a,show:i,onVisibleChange:l,initialValue:u}=e,c=null==u?void 0:u.configs.layout,[f]=w.useForm(),[p,d]=s.useState([]),[h,y]=s.useState([]),[g,m]=s.useState([]),[b,C]=s.useState(),[R,z]=s.useState([]);s.useState();const[M,N]=s.useState([]);s.useEffect((()=>{L(),W(),H(),u&&(f.setFieldsValue(u.configs),u.configs.metric&&T(u.configs.metric))}),[u]);const L=e=>{U({limit:150,metric:e}).then((e=>{e.dat.metrics&&d(e.dat.metrics)}))},T=e=>{y(e);let t=e.map((e=>({metric:e})));X({limit:200,params:t}).then((e=>{e.dat.tags&&N(Y(e.dat.tags))}))},H=()=>{V().then((e=>{z(e.dat.list||[])}))},A=O.debounce((e=>{L(e)}),500),I=O.debounce((e=>{W(e)}),500),W=e=>{$(e).then((e=>{e.dat.list&&m(e.dat.list)}))},B=async(e,t)=>{let n=await Z(t);return n.dat.ql_correct?Promise.resolve():Promise.reject(new Error(`${n.dat.parse_error}`))};return s.createElement(v,{title:"新建图表",visible:i,destroyOnClose:!0,onOk:async e=>{try{await f.validateFields();let e=Object.assign(f.getFieldsValue(),{layout:c});u&&u.id?await J(u.id,{configs:JSON.stringify(e),weight:0}):await K(a,{configs:JSON.stringify(e),weight:0}),l(!0)}catch(t){console.log("Failed:",t)}},onCancel:()=>{l(!1)}},s.createElement(w,o(o({},c),{form:f,preserve:!1}),s.createElement(w.Item,{label:"标题",name:"name",labelCol:{span:4},wrapperCol:{span:20},rules:[{required:!0,message:"图标名称"}]},s.createElement(S,null)),s.createElement(w.Item,{label:"配置方式",name:"mode",initialValue:"nightingale",labelCol:{span:4},wrapperCol:{span:20}},s.createElement(P.Group,null,s.createElement(P,{value:"nightingale"},"nightingale"),s.createElement(P,{value:"promethues"},"promethues"))),s.createElement(w.Item,{shouldUpdate:!0,wrapperCol:{span:24},style:{marginBottom:"0px"}},(()=>"nightingale"===f.getFieldValue("mode")?s.createElement(s.Fragment,null,s.createElement(w.Item,{label:"指标",name:"metric",labelCol:{span:4},wrapperCol:{span:20},rules:[{required:!0,message:"请选择指标"}]},s.createElement(j,{mode:"multiple",style:{width:"100%"},placeholder:"请输入监控指标",value:h,onChange:T,onSearch:A,filterOption:!1},p.map(((e,t)=>s.createElement(bn,{key:t,value:e.name},e.name," ",e.description))))),s.createElement(w.Item,{label:"资源分组",name:"classpath_id",labelCol:{span:4},wrapperCol:{span:20}},s.createElement(j,{style:{width:"100%"},placeholder:"请选择资源分组",value:b,onChange:e=>C(e),onSearch:I,filterOption:!1,allowClear:!0},g.map(((e,t)=>s.createElement(bn,{key:t,value:e.id},e.path))))),s.createElement(w.Item,{label:"前缀匹配",name:"classpath_prefix",labelCol:{span:4},wrapperCol:{span:20},valuePropName:"checked"},s.createElement(x,null)),M.map(((e,t)=>s.createElement(w.Item,{key:t,label:e.tagKey,name:["tags",e.tagKey],labelCol:{span:4},wrapperCol:{span:20}},s.createElement(j,{style:{width:"100%"},allowClear:!0,mode:"multiple"},e.tagValue.map(((e,t)=>s.createElement(bn,{key:t,value:e},e)))))))):s.createElement(w.Item,{label:"Promql",labelCol:{span:4},style:{marginBottom:0}},s.createElement(w.List,{name:"prome_ql",initialValue:[""]},((e,{add:a,remove:o},{errors:i})=>s.createElement(s.Fragment,null,e.length?e.map(((i,l)=>{var{key:u,name:c,fieldKey:f}=i;((e,a)=>{var o={};for(var i in e)t.call(e,i)&&a.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&n)for(var i of n(e))a.indexOf(i)<0&&r.call(e,i)&&(o[i]=e[i])})(i,["key","name","fieldKey"]);return s.createElement(D,{key:c,style:{display:"flex",marginBottom:8},align:"baseline"},s.createElement(w.Item,{name:[c],validateTrigger:["onChange","onBlur"],rules:[{validator:B}]},s.createElement(S,{placeholder:"请输入Promql",style:{width:"340px"}})),e.length>1?s.createElement(E,{onClick:()=>{console.log("remove",c),o(c)}}):null,l===e.length-1&&s.createElement(_,{onClick:()=>a()}))})):s.createElement(_,{onClick:()=>a()}),s.createElement(w.ErrorList,{errors:i}))))))),s.createElement(w.Item,{label:"阈值",name:"yplotline",labelCol:{span:4},wrapperCol:{span:20}},s.createElement(k,null)),s.createElement(w.Item,{label:"下钻链接",name:"link",labelCol:{span:4},wrapperCol:{span:20}},s.createElement(S,null))))}const wn=s.createContext({}),On={path:"*",id:-1,isFavorite:!1,create_at:0,create_by:0,update_at:0,update_by:0,isBelongIn:Q.Common,note:"",preset:0},Sn=e=>{let t=[],n=[],r=[],a=!1;const o=new Map;e.forEach(((e,t)=>{const{tagName:i,key:l}=e,s=o.get(i);void 0===s?o.set(i,[t]):o.set(i,[...s,t]),""===i&&n.push(t),"classpath(资源分组)"===l&&(a=!0),/^\w+$/g.test(i)||r.push(t)}));for(let i of o.values())Array.isArray(i)&&i.length>1&&(t=t.concat(i));return{duplicateList:t,nonNameList:n,invalidList:r,hasClassPath:a}},Pn=function(e,t){switch(t.type){case"init_data":return o(o(o({},e),t.data),{hasInit:!0});case"add_item":{const t=[...e.tagList,{tagName:"var",key:"",value:"*",prefix:!1}];return o(o(o({},e),{tagList:t}),Sn(t))}case"update_item":{const n=e.tagList;return n[t.index]=t.data,o(o(o({},e),{tagList:n}),Sn(n))}case"delete_item":return e.tagList.splice(t.index,1),o(o(o({},e),{tagList:e.tagList}),Sn(e.tagList));default:return e}},{Option:jn}=j,xn=({tagData:e,index:t,isEditing:n})=>{const[r,a]=s.useContext(wn),[i,l]=s.useState(["classpath(资源分组)"]),[u,c]=s.useState((()=>{const{key:t}=e;return"classpath(资源分组)"===t?[On]:["*"]})),[f,p]=s.useState(!1),[d,h]=s.useState(!1),[y,g]=s.useState(!1),[m,b]=s.useState("");s.useEffect((()=>{let e="";Array.isArray(r.nonNameList)&&r.nonNameList.includes(t)?e="必须要有一个变量名":Array.isArray(r.invalidList)&&r.invalidList.includes(t)?e="变量名包含非法字符":Array.isArray(r.duplicateList)&&r.duplicateList.includes(t)&&(e="变量名重复"),b(e)}),[JSON.stringify(r.duplicateList),JSON.stringify(r.nonNameList),JSON.stringify(r.invalidList)]),s.useEffect((()=>{"classpath(资源分组)"===e.key&&1===u.length&&E()}),[e.value,e.key]);const v=n=>{g(!0),c(["*"]),a({type:"update_item",index:t,data:o(o({},e),{key:n,value:"*"})})},w=n=>{const r=n.target.value;a({type:"update_item",index:t,data:o(o({},e),{tagName:r})}),r&&"必须要有一个变量名"===m&&b("")},O=()=>{D("")},P=e=>{D(e)},D=(e="")=>{const t=!r.hasClassPath&&0==="classpath".indexOf(e);p(!0),ne({limit:te,tag_key:e}).then((e=>{e.dat.keys&&l(t?["classpath(资源分组)",...e.dat.keys]:[...e.dat.keys])})).finally((()=>{p(!1)}))},E=(t="")=>new Promise((n=>{if(e.key)if(h(!0),"classpath(资源分组)"===e.key)$(t).then((e=>{c([On,...e.dat.list])})).finally((()=>{h(!1)}));else{const a=r.tagList.filter((t=>"*"!==t.value&&t.key!==e.key)).map((({key:e,value:t})=>({key:e,value:t})));ee({limit:te,tag_key:e.key,tag_value:t,tags:a.length>0?a:void 0}).then((e=>{e.dat.values&&(n(""),c(["*",...e.dat.values]))})).finally((()=>{h(!1)}))}})),_=e=>{e?E(e):c(["*"])},k=n=>{a({type:"update_item",index:t,data:o(o({},e),{value:n})})},M=()=>{1===u.length&&E().then((()=>{g(!1)}))},N=()=>{a({type:"delete_item",index:t})},L=n=>{a({type:"update_item",index:t,data:o(o({},e),{prefix:n.target.checked})})};return s.createElement(s.Fragment,null,n?s.createElement(C,{gutter:[6,6],className:"tag-content-item"},s.createElement(R,{span:3},s.createElement(S,{value:e.tagName,onChange:w})),s.createElement(R,{span:3},s.createElement(j,{style:{width:"100%"},onSearch:P,onChange:v,defaultActiveFirstOption:!1,showSearch:!0,loading:f,value:e.key,allowClear:!0,onClick:O,placeholder:"任意标签/资源分组"},i.map((e=>s.createElement(jn,{key:e,value:e},e))))),s.createElement(R,{span:3},s.createElement(j,{style:{width:"100%"},onSearch:_,onChange:k,defaultActiveFirstOption:!1,showSearch:!0,loading:d,value:e.value,placeholder:"任意标签/资源分组",onClick:M,dropdownClassName:"overflow-586"},"classpath(资源分组)"===e.key?u.map((e=>s.createElement(jn,{key:e.id,value:e.id},e.path))):u.map((e=>s.createElement(jn,{key:e,value:e},e))))),s.createElement(R,{span:3},s.createElement(z,{onClick:N,className:"icon"}),"classpath(资源分组)"===e.key?s.createElement(x,{className:"icon",checked:e.prefix,onClick:L}):null),m&&s.createElement(R,{span:4},s.createElement("div",{className:"error-tips"},m))):s.createElement("div",{className:"tag-content-close-item"},s.createElement("div",{className:"tag-content-close-item-tagName"},"$",e.tagName),s.createElement(j,{style:{width:"180px"},onSearch:_,onChange:k,defaultActiveFirstOption:!1,showSearch:!0,loading:d,value:e.value,placeholder:"任意标签/资源分组",onClick:M,dropdownClassName:"overflow-586"},"classpath(资源分组)"===e.key?u.map((e=>s.createElement(jn,{key:e.id,value:e.id},e.path))):u.map((e=>s.createElement(jn,{key:e,value:e},e)))),"classpath(资源分组)"===e.key?s.createElement(x,{className:"icon",checked:e.prefix,onClick:L}):null))};var Dn=s.forwardRef((({isOpen:e=!1,onChange:t},n)=>{const[r,a]=s.useState(e),[o,i]=s.useReducer(Pn,{tagList:[],duplicateList:[],invalidList:[],nonNameList:[],hasClassPath:!1,hasInit:!1});s.useEffect((()=>{if(!r&&o.hasInit){const e=u();t&&t(e)}}),[JSON.stringify(o.tagList)]);const l=e=>{const t=c(e);i({type:"init_data",data:t})},u=()=>{const{tagList:e}=o,t=[];let n;return e.forEach((e=>{const{key:r}=e;"classpath(资源分组)"!==r?t.push(e):n=e})),n?{tags:t,classpath_tagName:(null==n?void 0:n.tagName)||"",classpath_id:(null==n?void 0:n.value)||0,classpath_prefix:!0===(null==n?void 0:n.prefix)?1:0}:{tags:t}},c=e=>{let t;try{const n=JSON.parse(e),{tags:r,classpath_id:a,classpath_prefix:o,classpath_tagName:i}=n;t=void 0!==a&&void 0!==o&&void 0!==i?{tagList:r.concat({tagName:i,key:"classpath(资源分组)",value:a,prefix:1===o}),hasClassPath:!0}:{tagList:r}}catch(n){t={tagList:[]}}return t},d=()=>{a(!0)},h=s.useMemo((()=>{if(!o)return!0;const{duplicateList:e,nonNameList:t,invalidList:n}=o;return 0===e.length&&0===t.length&&0===n.length}),[JSON.stringify(o.duplicateList),JSON.stringify(o.nonNameList),JSON.stringify(o.invalidList)]);return s.useImperativeHandle(n,(()=>({setInitData:l}))),s.createElement(wn.Provider,{value:[o,i]},s.createElement("div",{className:"tag-area"},r?s.createElement(C,{gutter:[6,6],className:"tag-header"},s.createElement(R,{span:3},"变量名"),s.createElement(R,{span:3},"标签或资源分组"),s.createElement(R,{span:3},"默认值")):null,s.createElement("div",{className:f("tag-content",r?"":"tag-content-close")},o.tagList.map(((e,t)=>s.createElement(xn,{isEditing:r,key:t,tagData:e,index:t}))),r?null:Array.isArray(o.tagList)&&o.tagList.length?s.createElement(M,{className:"icon",onClick:d}):s.createElement("div",{className:"add-variable-tips",onClick:d},"添加大盘变量")),r?s.createElement("div",{className:"tag-control-area"},s.createElement(p,{onClick:function(){i({type:"add_item"})},icon:s.createElement(N,null)},"添加变量"),s.createElement(p,{type:"primary",disabled:!h,onClick:()=>{a(!1);const e=u();t&&t(e)}},"完成")):null))}));const En={labelCol:{span:4},wrapperCol:{span:16}};let _n,kn=!0;function Cn(){const{id:e}=L(),[t]=w.useForm(),n=T(),r=s.useRef(null),[a,i]=s.useState({create_by:"",favorite:0,id:0,name:"",tags:"",update_at:0,update_by:""}),[l,u]=s.useState(!1),[c,f]=s.useState([]),[d,h]=s.useState(null),[y,g]=s.useState(!1),[m,b]=s.useState(!1),[O,P]=s.useState(),[j,x]=s.useState({start:0,end:0});s.useEffect((()=>{D()}),[]);const D=()=>{re(e).then((e=>{i(e.dat),e.dat.configs&&(h(JSON.parse(e.dat.configs)),r.current&&r.current.setInitData(e.dat.configs))})),ae(e).then((e=>{let t=e.dat||[];f(t.sort(((e,t)=>e-t)).map((e=>(e.updateTime=Date.now(),e))))}))},E=e=>{_n=e,b(!0)},_=(e,t)=>{_n=e.id,P(t),b(!0)},k=(e,t)=>{_n=e.id,ue(t.id),N()},C=e=>{_n=e.id,kn=!1,g(!0)},R=async e=>{const{weight:t}=e;let n=c.find((e=>e.weight===t-1));n&&(n.weight=t,e.weight=t-1,await fe([n,e]),D())},z=async e=>{const{weight:t}=e;let n=c.find((e=>e.weight===t+1));n&&(n.weight=t,e.weight=t+1,await fe([n,e]),D())},M=async e=>{await pe(e),B.success("删除分组成功"),D(),g(!1)},N=()=>{let e=c.findIndex((e=>e.id===_n));if(e<0)return;let t=[...c];t[e].updateTime=Date.now(),f(t)};return s.createElement(oe,{customArea:s.createElement("div",{className:"dashboard-detail-header"},s.createElement("div",{className:"dashboard-detail-header-left"},s.createElement(H,{className:"back",onClick:()=>n.push("/dashboard")}),l?s.createElement(S,{defaultValue:a.name,onPressEnter:async t=>{await se(e,o(o({},a),{name:t.target.value})),await D(),u(!1)}}):s.createElement("div",{className:"title"},a.name),s.createElement(A,{className:"edit",onClick:()=>{u(!l)}})),s.createElement("div",{className:"dashboard-detail-header-right"},s.createElement(ie,{onClick:()=>{D()}}),s.createElement(le,{onChange:e=>{x(e)}})))},s.createElement("div",{className:"dashboard-detail-content"},s.createElement("div",{className:"variable-area"},s.createElement(p,{type:"link",icon:s.createElement(I,null),style:{paddingRight:0},onClick:()=>g(!0)},"新增图表分组"),s.createElement(W,{type:"vertical",style:{height:32}}),s.createElement(Dn,{ref:r,onChange:t=>{se(e,o(o({},a),{configs:JSON.stringify(t)})),h(t)}})),s.createElement("div",{className:"charts"},c.map(((e,t)=>s.createElement(mn,{key:t,groupInfo:e,onAddChart:E,onUpdateChart:_,onUpdateChartGroup:C,onMoveUpChartGroup:R,onMoveDownChartGroup:z,onDelChart:k,onDelChartGroup:M,range:j,variableConfig:d}))))),s.createElement(v,{title:kn?"新建分组":"更新分组名称",visible:y,onOk:async()=>{let n=t.getFieldsValue();if(kn){let t=c.map((e=>e.weight)),r=Math.max(...t)+1;await ce(e,o(o({},n),{weight:r}))}else{let e=c.find((e=>e.id===_n));await fe([o(o({},e),n)])}D(),kn=!0,g(!1)},onCancel:()=>{g(!1)}},s.createElement(w,o(o({},En),{form:t}),s.createElement(w.Item,{label:"图表分组",name:"name",rules:[{required:!0,message:"请输入分类标签，用空格分隔"}]},s.createElement(S,null)))),m&&s.createElement(vn,{initialValue:O,groupId:_n,show:m,onVisibleChange:e=>{b(!1),P(null),e&&N()}}))}export default Cn;
