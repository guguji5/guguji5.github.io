import{b as e,r as t,aM as a,I as l,j as r,B as n,p as i,x as s,E as d,l as m,k as c}from"./vendor.6a8dc018.js";import{P as o,B as p,a0 as E}from"./index.366ccd84.js";import{g as h,d as u}from"./index.de3aaf26.js";const{confirm:f}=m;export default()=>{const m=e(),v=t.useRef(null),[w,x]=t.useState(""),g=[{title:"指标名称",width:"15%",dataIndex:"metric",render:e=>t.createElement(t.Fragment,null,t.createElement(i,{placement:"topLeft",title:e},t.createElement("div",{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},e)))},{title:"资源标识",width:"20%",dataIndex:"res_filters",render:e=>t.createElement(t.Fragment,null,t.createElement(i,{placement:"topLeft",title:e},t.createElement("div",{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},e)))},{title:"标签",width:"15%",dataIndex:"tags_filters",render:e=>t.createElement(t.Fragment,null,e?e.split(" ").map(((e,a)=>e?t.createElement(E,{text:e,key:a},e):null)):"")},{title:"屏蔽原因",width:"15%",dataIndex:"cause",render:e=>t.createElement(t.Fragment,null,t.createElement(i,{placement:"topLeft",title:e},t.createElement("div",{style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},e)))},{title:"屏蔽时间",width:"20%",dataIndex:"btime",render:(e,a)=>t.createElement("div",{className:"shield-time"},t.createElement("div",null,"开始: ",s(1e3*(null==a?void 0:a.btime)).format("YYYY-MM-DD HH:mm:ss")),t.createElement("div",null,"结束: ",s(1e3*(null==a?void 0:a.etime)).format("YYYY-MM-DD HH:mm:ss")))},{title:"创建人",width:"7%",ellipsis:!0,dataIndex:"create_by"},{title:"操作",width:"8%",dataIndex:"operation",render:(e,a)=>t.createElement(t.Fragment,null,t.createElement("div",{className:"table-operator-area-warning",style:{cursor:"pointer"},onClick:()=>{f({title:"确定解除该告警屏蔽?",icon:t.createElement(d,null),onOk:()=>{var e;e=a.id,u(e).then((e=>{v.current.refreshList(),c.success("解除指标成功")}))},onCancel(){}})}},"解除"))}];return t.createElement(o,{title:"告警屏蔽",icon:t.createElement(a,null)},t.createElement("div",{className:"shield-index"},t.createElement("div",{className:"header"},t.createElement("div",{className:"header-left"},t.createElement(l,{onPressEnter:e=>{let t=e.target.value;x(t)},className:"searchInput",prefix:t.createElement(r,null),placeholder:"指标名称、资源标识、标签、屏蔽原因"})),t.createElement("div",{className:"header-right"},t.createElement(n,{type:"primary",className:"add",onClick:()=>{m.push("/shield/add")}},"新建告警屏蔽"))),t.createElement(p,{ref:v,fetchParams:{query:w},fetchHandle:h,rowKey:"id",columns:g})))};
